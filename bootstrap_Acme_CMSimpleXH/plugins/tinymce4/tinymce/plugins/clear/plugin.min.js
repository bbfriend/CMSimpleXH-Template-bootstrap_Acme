!function(){tinymce.PluginManager.requireLangPack("clear"),tinymce.create("tinymce.plugins.Clear",{init:function(e,t){e.addButton("clearleft",{title:"clearleft_desc",tooltip:"clearleft_desc",cmd:"clearLeft",image:t+"/images/clearleft_button.gif"}),e.addButton("clearright",{title:"clearright_desc",tooltip:"clearright_desc",cmd:"clearRight",image:t+"/images/clearright_button.gif"}),e.addButton("clearboth",{title:"clearboth_desc",tooltip:"clearboth_desc",cmd:"clearBoth",image:t+"/images/clearboth_button.gif"});var a='<img src="'+t+'/images/trans.gif" style="clear:$1;" class="mceClear mceClear$1 mceItemNoResize" title="'+e.getLang("clear.clear_alt")+'" />',n=function(t){var n=a.replace(/\$1/g,t);e.execCommand("mceInsertContent",!1,n)};e.addCommand("clearLeft",function(){n("left")}),e.addCommand("clearRight",function(){n("right")}),e.addCommand("clearBoth",function(){n("both")}),e.onNodeChange.add(function(e,t,a){t.setActive("clearleft","IMG"===a.nodeName&&e.dom.hasClass(a,"mceClearleft")),t.setActive("clearright","IMG"===a.nodeName&&e.dom.hasClass(a,"mceClearright")),t.setActive("clearboth","IMG"===a.nodeName&&e.dom.hasClass(a,"mceClearboth"))}),e.onInit.add(function(){e.dom.loadCSS(t+"/css/clear.css")}),e.onPostRender.add(function(){e.theme.onResolveName&&e.theme.onResolveName.add(function(t,a){"IMG"==a.node.nodeName&&(e.dom.hasClass(a.node,"mceClearleft")?a.name="clear.left":e.dom.hasClass(a.node,"mceClearright")?a.name="clear.right":e.dom.hasClass(a.node,"mceClearboth")&&(a.name="clear.both"))})}),e.onBeforeSetContent.add(function(e,t){t.content=t.content.replace(/<div clear=" *([^" ]+) *"><\/div>/g,a),t.content=t.content.replace(/<div style="clear: *([^"; ]+) *;?"><\/div>/g,a)}),e.onPostProcess.add(function(e,t){t.get&&(t.content=t.content.replace(/<img[^>]+>/g,function(e){if(-1!==e.indexOf('class="mceClear')){var t,a=(t=e.match(/mceClear([a-z]+)/))?t[1]:"";e='<div style="clear:'+a+';"></div>'}return e}))})},createControl:function(e,t){return null},getInfo:function(){return{longname:"Clear",author:"Miguel Ibero",authorurl:"http://www.peix.org",infourl:"http://www.peix.org/code",version:"1.0"}}}),tinymce.PluginManager.add("clear",tinymce.plugins.Clear)}();